var fre=function(e){"use strict";const t=e=>e?Array.isArray(e)?e:[e]:[],n=(e,t)=>e.type===t.type||typeof e.type==typeof t.type,o=(e,t)=>n=>"children"!==n&&"key"!==n&&e[n]!==t[n];function r(e,t){let n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n}const i=requestAnimationFrame||setTimeout;function s(e,t){let n=[],o=[],i=arguments.length;for(;i-- >2;)n.push(arguments[i]);for(;n.length;){let e=n.pop();if(e&&e.pop)for(i=e.length;i--;)n.push(e[i]);else null===e||!0===e||!1===e?e={type:()=>{}}:"function"==typeof e?o=e:o.push("object"==typeof e?e:{type:"text",props:{nodeValue:e}})}return{type:e,props:r(t,{children:o}),key:t&&t.key}}function c(e,t,n,o){if("style"===t)for(key in o){let n=o&&o[key]?o[key]:"";e[t][key]=n}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2).toLowerCase(),n&&e.removeEventListener(t,n),e.addEventListener(t,o)):e.setAttribute(t,o)}function l(e,t,n){Object.keys(n).filter(o(t,n)).forEach(o=>{"value"===o||"nodeValue"===o?e[o]=n[o]:c(e,o,t[o],n[o])})}let u=0;function p(e,t,n){const o=this?this:j();n=t?t(o.state[e],n):n,o.state[e]=n,V(o)}function a(e){return f(null,e)}function f(e,t){let n=j();if(!n)return[t,r];let o="$"+u,r=p.bind(n,o,e);u++;let i=n.state||{};return o in i?[i[o],r]:(n.state[o]=t,[t,r])}function h(e,t){let n=j();if(n){let o=!t||(n.oldInputs||[]).some((e,n)=>t[n]!==e);if(!t||t.length||n.isMounted||(o=!0,n.isMounted=!0),n.oldInputs=t,o)return e()}}const d={},y=1e3/60,[b,g,m,k,x,T,v]=[0,1,2,3,4,5,6];let E=[],C=null,A=null,P=null;function V(e){E.push(e),C||(C=E.shift(),i(w))}function w(e=0){if(e&&performance.now()-e>y)i(w);else{const e=performance.now();(C=function(e){if(e.tag==g?function(e){e.props=e.props||{},e.state=e.state||{},P=e,u=0;const t=e.type(e.props);M(e,t),P.patches=e.patches}(e):function(e){d.end||e.base||(e.base=function(e){const t="text"===e.type?document.createTextNode(""):document.createElement(e.type);return l(t,[],e.props),t}(e));let t=e.parent||{};e.insertPoint=t.oldPoint,t.oldPoint=e;const n=e.props.children;M(e,n)}(e),e.child)return e.child;for(;e;){if(W(e),e.sibling)return e.sibling;e=e.parent}}(C))?w(e):d.commitWork?d.commitWork(A):(A.patches.forEach(e=>(function(e){let t=e.parent;for(;t.tag==g;)t=t.parent;const n=t.base;let o=e.base||e.child.base;const{insertPoint:r,patchTag:i}=e;if(e.parent.tag==m);else if(i==T)l(o,e.alternate.props,e.props);else if(i==v)n.removeChild(o);else{let e=r?i==k?r.base.nextSibling:r.base.nextSibling||n.firstChild:null;if(e==o)return;n.insertBefore(o,e)}t.patches=e.patches=[]})(e)),C=A=null)}}function L(e,n){return n.children=function(e){let n={},o=0;return t(e).forEach(e=>{let t=((e||{}).props||{}).key;t?n["."+t]=e:(n["."+o]=e)&&o++}),n}(e)}function M(e,t){const o=e.children,i=L(t,e);let s={};for(let t in o){let r=i[t],c=o[t];r&&n(r,c)?s[t]=c:(c.patchTag=v,e.patches.push(c))}let c=null,l=null;for(let t in i){let o=i[t],u=s[t];u?n(u,o)&&(l=S(u,{patchTag:T}),d.end||(o.patchTag=T),(o=r(l,o)).alternate=l,u.key&&(o.patchTag=x)):o=S(o,{patchTag:k}),i[t]=o,o.parent=e,c?c.sibling=o:e.child=o,c=o}c&&(c.sibling=null)}function S(e,t){return t.tag="function"==typeof e.type?g:b,e.props=e.props||{nodeValue:e.nodeValue},r(e,t)}function W(e){!d.end&&e.parent?e.parent.patches=(e.parent.patches||[]).concat(e.patches||[],e.patchTag?[e]:[]):A=e}function j(){return P||null}return e.createContext=function(e={}){let t={};return{context:e,update:e=>{for(let n in t)t[n](e)},subscribe:(e,n)=>{n in t||(t[n]=e)},set:t}},e.createElement=s,e.h=s,e.options=d,e.render=function(e,t){V({tag:m,base:t,props:{children:e}})},e.scheduleWork=V,e.useContext=function(e){const[t,n]=a(e.context),o=j().type.name;return e.subscribe(n,o),[t,e.update]},e.useEffect=function(e,t){let n=j();n&&(n.effect=function(e,t){return h(()=>e,t)}(e,t))},e.useMemo=h,e.useReducer=f,e.useState=a,e}({});
//# sourceMappingURL=fre.js.map