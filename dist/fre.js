var fre=function(e){"use strict";const t=e=>e?Array.isArray(e)?e:[e]:[],n=(e,t)=>e.type===t.type||typeof e.type==typeof t.type,o=(e,t)=>n=>"children"!==n&&"key"!==n&&e[n]!==t[n];function r(e,t){let n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n}const i=requestAnimationFrame||setTimeout;function s(e,t){let n=[],o=[],i=arguments.length;for(;i-- >2;)n.push(arguments[i]);for(;n.length;){let e=n.pop();if(e&&e.pop)for(i=e.length;i--;)n.push(e[i]);else null===e||!0===e||!1===e?e={type:()=>{}}:"function"==typeof e?o=e:o.push("object"==typeof e?e:{type:"text",props:{nodeValue:e}})}return{type:e,props:r(t,{children:o}),key:t&&t.key}}function c(e,t,n,o){if("style"===t)for(key in o){let n=o&&o[key]?o[key]:"";e[t][key]=n}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2).toLowerCase(),n&&e.removeEventListener(t,n),e.addEventListener(t,o)):e.setAttribute(t,o)}function l(e,t,n){Object.keys(n).filter(o(t,n)).forEach(o=>{"value"===o||"nodeValue"===o?e[o]=n[o]:c(e,o,t[o],n[o])})}let u=0;function a(e,t,n){const o=this?this:I();n=t?t(o.state[e],n):n,o.state[e]=n,w(o)}function p(e){return f(null,e)}function f(e,t){let n=I();if(!n)return[t,r];let o="$"+u,r=a.bind(n,o,e);u++;let i=n.state||{};return o in i?[i[o],r]:(n.state[o]=t,[t,r])}function h(e,t){return d(()=>e,t)}function d(e,t){let n=I();if(n){let o=!t||(n.oldInputs||[]).some((e,n)=>t[n]!==e);if(!t||t.length||n.isMounted||(o=!0,n.isMounted=!0),n.oldInputs=t,o)return e()}}const y={},b=1e3/60,[g,m,k,x,T,v,E]=[0,1,2,3,4,5,6];let C=[],A=null,P=null,V=null;function w(e){C.push(e),A||(A=C.shift(),i(L))}function L(e=0){if(e&&performance.now()-e>b)i(L);else{const e=performance.now();(A=function(e){if(e.tag==m?function(e){e.props=e.props||{},e.state=e.state||{},V=e,u=0;const t=e.type(e.props);S(e,t),V.patches=e.patches}(e):function(e){y.end||e.base||(e.base=function(e){const t="text"===e.type?document.createTextNode(""):document.createElement(e.type);return l(t,[],e.props),t}(e));let t=e.parent||{};e.insertPoint=t.oldPoint,t.oldPoint=e;const n=e.props.children;S(e,n)}(e),e.child)return e.child;for(;e;){if(j(e),e.sibling)return e.sibling;e=e.parent}}(A))?L(e):y.commitWork?y.commitWork(P):(P.patches.forEach(e=>(function(e){let t=e.parent;for(;t.tag==m;)t=t.parent;const n=t.base;let o=e.base||e.child.base;const{insertPoint:r,patchTag:i}=e;if(e.parent.tag==k);else if(i==v)l(o,e.alternate.props,e.props);else if(i==E)n.removeChild(o);else{let e=r?i==x?r.base.nextSibling:r.base.nextSibling||n.firstChild:null;if(e==o)return;n.insertBefore(o,e)}t.patches=e.patches=[]})(e)),A=P=null)}}function M(e,n){return n.children=function(e){let n={},o=0;return t(e).forEach(e=>{let t=((e||{}).props||{}).key;t?n["."+t]=e:(n["."+o]=e)&&o++}),n}(e)}function S(e,t){const o=e.children,i=M(t,e);let s={};for(let t in o){let r=i[t],c=o[t];r&&n(r,c)?s[t]=c:(c.patchTag=E,e.patches.push(c))}let c=null,l=null;for(let t in i){let o=i[t],u=s[t];u?n(u,o)&&(l=W(u,{patchTag:v}),y.end||(o.patchTag=v),(o=r(l,o)).alternate=l,u.key&&(o.patchTag=T)):o=W(o,{patchTag:x}),i[t]=o,o.parent=e,c?c.sibling=o:e.child=o,c=o}c&&(c.sibling=null)}function W(e,t){return t.tag="function"==typeof e.type?m:g,e.props=e.props||{nodeValue:e.nodeValue},r(e,t)}function j(e){!y.end&&e.parent?e.parent.patches=(e.parent.patches||[]).concat(e.patches||[],e.patchTag?[e]:[]):P=e}function I(){return V||null}return e.createContext=function(e={}){let t={};return{context:e,update:e=>{for(let n in t)t[n](e)},subscribe:(e,n)=>{n in t||(t[n]=e)},set:t}},e.createElement=s,e.h=s,e.options=y,e.render=function(e,t){w({tag:k,base:t,props:{children:e}})},e.scheduleWork=w,e.useCallback=h,e.useContext=function(e){const[t,n]=p(e.context),o=I().type.name;return e.subscribe(n,o),[t,e.update]},e.useEffect=function(e,t){let n=I();n&&(n.effect=h(e,t))},e.useMemo=d,e.useReducer=f,e.useState=p,e}({});
//# sourceMappingURL=fre.js.map