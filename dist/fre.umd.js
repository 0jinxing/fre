!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.fre={})}(this,function(e){var t=function(e,t){return function(n){return e[n]!==t[n]}},n=function(e,t){return e.type==t.type&&e.key==t.key},r=function(e){var t,n={},r=0;return(t=e,t?Array.isArray(t)?t:[t]:[]).forEach(function(e){var t=((e||{}).props||{}).key;t?n["."+t]=e:(n["."+r]=e)&&r++}),n},i=function(e,t){for(var n in t)e[n]=t[n]},a=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},o=requestIdleCallback||function(e,t){return void 0===t&&(t=Date.now()),setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},u=requestAnimationFrame||setTimeout;function c(e,n,r){Object.keys(r).filter(t(n,r)).forEach(function(t){"value"===t||"nodeValue"===t?e[t]=r[t]:function(e,t,n,r){"children"===t||"key"===t||("style"===t?Object.keys(r).forEach(function(n){e[t][n]=r&&r[n]?r[n]:""}):"o"===t[0]&&"n"===t[1]?(t=t.slice(2).toLowerCase(),n&&e.removeEventListener(t,n),e.addEventListener(t,r)):e.setAttribute(t,r))}(e,t,n[t],r[t])})}var f=0,s=[],p=!1;function l(e){return h(null,e)}function h(e,t){var n=q(),r="$"+f,i=function(e,t,n){var r=this?this:q();n=t?t(r.state[e],n):n,r.state[e]=n,C.push(r),o(A)}.bind(n,r,e);if(n){f++;var a=n.state||{};return"object"==typeof a&&r in a?[a[r],i]:(n.state[r]=t,[t,i])}return[t,i]}function v(e,t){var n=q();n&&(n.effect=d(e,t))}function d(e,t){return function(){if(q()){var n=!t||s.some(function(e,n){return t[n]!==e});t&&0===t.length&&!p&&(n=!0,p=!0),n&&e(),s=t}}}var b=[0,1,2,3,4,5,6],g=b[0],y=b[1],m=b[2],T=b[3],k=b[4],x=b[5],E=b[6],C=[],w=null,P=null,j=null,S=!0;function A(e){if(!w&&C.length){var t=C.shift();if(!t)return;w=t}for(;w&&e.timeRemaining()>1;)w=V(w);(w||C.length>0)&&o(A),P&&u(function(){return P.patches.forEach(function(e){return function(e){if(e.tag!=m){for(var t=e.parent;t.tag==y;)t=t.parent;var n=t.base,r=e.base;if(e.tag==y);else if(e.patchTag==x)c(e.base,e.alternate.props,e.props);else if(e.patchTag==E)!function(e,t){for(var n=e;;)if(n.tag!=y){for(t.removeChild(n.base),n.patches=[];n!=e&&!n.sibling;)n=n.parent;if(n==e)return;n=n.sibling}else n=n.child}(e,n);else{var i=S?null:e.insertPoint?e.patchTag==T?e.insertPoint.base.nextSibling:e.insertPoint.base.nextSibling||n.firstChild:null;if(i==r)return;n.insertBefore(r,i)}r!=n.lastChild&&(S=!1),t.patches=e.patches=[]}}(e)}),j.effect&&j.effect(),void(w=P=null)})}function V(e){if(e.tag==y?function(e){var t=e.base;null==t&&(t=e.base=function(e){var t=new e.type(e.props);return t.fiber=e,t}(e)),e.props=e.props||{},e.state=e.state||{},e.effects=e.effects||{},j=e,f=0;var n=e.type(e.props);L(e,n),j.patches=e.patches}(e):function(e){var t,n;e.base||(e.base=(c(n="text"===(t=e).type?document.createTextNode(""):document.createElement(t.type),[],t.props),n));var r=e.parent||{};e.insertPoint=r.oldPoint,r.oldPoint=e,L(e,e.props.children)}(e),e.child)return e.child;for(;e;){if((t=e).parent?t.parent.patches=(t.parent.patches||[]).concat(t.patches||[],t.patchTag?[t]:[]):P=t,e.sibling)return e.sibling;e=e.parent}var t}function L(e,t){var i=e.children,o=function(e,n){return n.children=r(t)}(0,e),u={};for(var c in i){var f=o[c],s=i[c];f&&s.type===f.type?(u[c]=s,f.key&&(s.key=f.key)):(s.patchTag=E,e.patches.push(s))}var p=null,l=null;for(var h in o){var v=o[h],d=u[h];d?n(d,v)&&(l=new R(d,{patchTag:x}),v.patchTag=x,(v=a(l,v)).alternate=l,d.key&&(v.patchTag=k)):v=new R(v,{patchTag:T}),o[h]=v,v.parent=e,p?p.sibling=v:e.child=v,p=v}p&&(p.sibling=null)}function R(e,t){this.patchTag=t.patchTag,this.tag=t.tag||"function"==typeof e.type?y:g,e.props=e.props||{nodeValue:e.nodeValue},i(this,e)}function q(){return j||null}e.h=function(e,t){for(var n=arguments,r=[],i=[],o=arguments.length;o-- >2;)r.push(n[o]);for(;r.length;){var u=r.pop();if(u&&u.pop)for(o=u.length;o--;)r.push(u[o]);else null===u||!0===u||!1===u||i.push("object"!=typeof u?{type:"text",props:{nodeValue:u}}:u)}return{type:e,props:a(t,{children:i}),key:(t||{}).key||null}},e.render=function(e,t){C.push({tag:m,base:t,props:{children:e}}),o(A)},e.useState=l,e.useReducer=h,e.useEffect=v,e.useMemo=d,e.createContext=function(e){void 0===e&&(e={});var t=[];return{context:e,update:function(e){return t.forEach(function(t){return t(e)})},subscribe:function(e){return t.push(e)},unSubscribe:function(e){return t=t.filter(function(t){return t!==e})}}},e.useContext=function(e){var t=l(e.context),n=t[0],r=t[1];return e.subscribe(r),v(function(){return e.unSubscribe(r)}),[n,e.update]}});
//# sourceMappingURL=fre.umd.js.map
